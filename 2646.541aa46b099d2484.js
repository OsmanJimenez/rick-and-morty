"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2646],{2646:(A,m,s)=>{s.r(m),s.d(m,{HomePageModule:()=>E});var l=s(6895),g=s(433),i=s(4556),f=s(3329),C=s(590),e=s(8256);let _=(()=>{class o{constructor(){this.url={character:["/character"]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=s(2843),p=s(262),u=s(4004),d=s(905),P=s(529);let v=(()=>{class o{constructor(t){this.http=t}getAll(t){return this.http.get(`${d.N.apiUrl}${t}`).pipe((0,p.K)(n=>(this.getCatchError(n),(0,h._)(()=>"Ups algo salio mal, por favor contacte a soporte"))),(0,u.U)(n=>n))}create(t,n){return this.http.post(`${d.N.apiUrl}${t}`,n).pipe((0,p.K)(r=>(this.getCatchError(r),(0,h._)(()=>"Ups algo salio mal, por favor contacte a soporte"))),(0,u.U)(r=>r))}update(t,n){return this.http.put(`${d.N.apiUrl}${t}`,n).pipe((0,p.K)(r=>(this.getCatchError(r),(0,h._)(()=>"Ups algo salio mal, por favor contacte a soporte"))),(0,u.U)(r=>r))}getCatchError(t){console.error("Error data: ",t.error.payload.data,"Error error: ",t.error.payload.error,"Error message: ",t.error.payload.message)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(P.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Z(o,a){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",12),e.qZA()),2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("value",t)}}function M(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-checkbox",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedStatus=r)})("ionChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeStatus())}),e.qZA(),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()}if(2&o){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.selectedStatus),e.xp6(2),e.Oqu(t)}}function x(o,a){if(1&o&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.count," Results")}}function O(o,a){if(1&o&&(e.TgZ(0,"ion-col",15)(1,"ion-card",16),e._UZ(2,"img",17),e.TgZ(3,"ion-card",18)(4,"ion-card-header")(5,"ion-card-title"),e._uU(6),e.qZA(),e.TgZ(7,"ion-card-subtitle"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-card-content"),e._uU(10," Universo: "),e._UZ(11,"br"),e._uU(12),e.qZA()()()()),2&o){const t=a.$implicit;e.xp6(2),e.Q6J("src",t.image,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.species),e.xp6(4),e.hij(" \u25b6 ",t.location.name," ")}}const T=[{path:"",component:(()=>{class o{constructor(t,n){this.endpointsService=t,this.apiService=n,this.url=this.endpointsService.url,this.flagCount=!1,this.selectedEspecie="",this.selectedStatus=[],this.filteredCharacters=[]}ngOnInit(){this.load()}load(){this.characters=[],this.especies=[],this.status=[],this.apiService.getAll(this.url.character).pipe((0,C.P)()).subscribe(t=>{this.characters=t.results,this.charactersOld=t.results,console.log(this.characters);for(let n=0;n<this.characters.length;n++){const r=this.characters[n].species;this.especies.includes(r)||this.especies.push(r)}for(let n=0;n<this.characters.length;n++){const r=this.characters[n].status;this.status.includes(r)||this.status.push(r)}},t=>{})}filtroPorEspecie(){console.log(this.selectedEspecie),this.characters=this.charactersOld.filter(t=>t.species==this.selectedEspecie),console.log(this.characters)}filterCharacters(t){const n=t.target.value;""!==n?(this.characters=this.characters.filter(r=>r.name.toLowerCase().includes(n.toLowerCase())),this.flagCount=!0,this.count=this.characters.length):(this.flagCount=!1,this.characters=this.charactersOld)}changeStatus(){this.filteredCharacters=this.characters.filter(t=>this.selectedStatus.includes(t.status))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_),e.Y36(v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:25,vars:5,consts:[[1,"container"],[1,"sidebar"],["id","inbox-list"],["src","assets/img/logo.png","alt","logo",1,"img-logo"],["position","floating"],["placeholder","Enter text",3,"ionChange"],[1,""],[3,"ngModel","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[1,"content"],["class","text-result",4,"ngIf"],["size","4",4,"ngFor","ngForOf"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange","ionChange"],[1,"text-result"],["size","4"],[1,"card"],["alt","",3,"src"],[1,"description"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ion-list")(3,"ion-list",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"ion-list",2)(6,"ion-item")(7,"ion-label",4),e._uU(8,"Search"),e.qZA(),e.TgZ(9,"ion-input",5),e.NdJ("ionChange",function(c){return n.filterCharacters(c)}),e.qZA()()(),e.TgZ(10,"ion-list",2)(11,"ion-list-header"),e._uU(12,"Especie"),e.qZA(),e._UZ(13,"div",6),e.TgZ(14,"ion-radio-group",7),e.NdJ("ngModelChange",function(c){return n.selectedEspecie=c})("ionChange",function(){return n.filtroPorEspecie()}),e.YNc(15,Z,4,2,"ion-item",8),e.qZA()(),e.TgZ(16,"ion-list",2)(17,"ion-list-header"),e._uU(18,"Status"),e.qZA(),e.YNc(19,M,4,2,"ion-item",8),e.qZA()()(),e.TgZ(20,"div",9),e.YNc(21,x,2,1,"p",10),e.TgZ(22,"ion-grid")(23,"ion-row"),e.YNc(24,O,13,4,"ion-col",11),e.qZA()()()()),2&t&&(e.xp6(14),e.Q6J("ngModel",n.selectedEspecie),e.xp6(1),e.Q6J("ngForOf",n.especies),e.xp6(4),e.Q6J("ngForOf",n.status),e.xp6(2),e.Q6J("ngIf",n.flagCount),e.xp6(3),e.Q6J("ngForOf",n.characters))},dependencies:[l.sg,l.O5,g.JJ,g.On,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.nz,i.wI,i.jY,i.pK,i.Ie,i.Q$,i.q_,i.yh,i.B7,i.se,i.Nd,i.w,i.U5,i.QI,i.j9],styles:[".container[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .img-logo[_ngcontent-%COMP%]{padding:0 0 0 20px}.container[_ngcontent-%COMP%]   .text-result[_ngcontent-%COMP%]{margin:18px;font-style:normal;font-weight:400;font-size:32px;line-height:24px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(118.54deg,#40BEA0 29.4%,#4052EE 144.22%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:-18px 0 18px 32px}"]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.Bz.forChild(T),f.Bz]}),o})(),E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.ez,g.u5,i.Pc,U]}),o})()}}]);